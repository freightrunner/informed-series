(function(e){e.APYTLoader=function(g){function f(){var e;if(ba.length){J=ba.shift();l=J.type;e=J.path;xa=[];Fa=0;qa=1;qb=J.limit?J.limit:200;F=J.order?J.order:"relevance";if("youtube_single"==l)e="https://www.googleapis.com/youtube/v3/videos?id="+e+"&key="+X+"&part=snippet,contentDetails,statistics,status";else if(-1==M.inArray(F,N)&&(F="relevance"),"youtube_playlist"==l)e="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+e+"&key="+ X+"";else if("youtube_video_query"==l)e=J.query||J.path,e="https://www.googleapis.com/youtube/v3/search?part=id,snippet&maxResults=50&order="+F+"&q="+e+"&key="+X+"";else if("youtube_user_channels"==l)e="https://www.googleapis.com/youtube/v3/channels?part=contentDetails&maxResults=50&forUsername="+e+"&key="+X+"";else if("youtube_channel"==l)e="https://www.googleapis.com/youtube/v3/channels?part=snippet,contentDetails&id="+e+"&key="+X+"";else{alert("Wrong youtube type V3!");return}p(e)}else M(C).trigger("APYTLoader.END_LOAD", [Ga])}function p(e){M.ajax({url:e,dataType:"jsonp"}).done(function(e){var g,C=e.items.length;C+Fa>qb&&(C=qb-Fa);for(g=0;g<C;g++)if(_item=e.items[g])"youtube_playlist"==l||"youtube_single"==l?("private"!=_item.status.privacyStatus&&Ga.push(na(_item,l)),Fa++):"youtube_video_query"==l?(Ga.push(na(_item,l)),Fa++):"youtube_user_channels"!=l&&"youtube_channel"!=l||xa.push(_item.contentDetails.relatedPlaylists.uploads);if("youtube_single"==l)f();else if("youtube_user_channels"!=l&&"youtube_channel"!=l)if(qa+= 50,qa<qb)if(qa<=e.pageInfo.totalResults&&e.nextPageToken){if("youtube_playlist"==l)var wa="https://www.googleapis.com/youtube/v3/playlistItems?pageToken="+e.nextPageToken+"&part=snippet,status,contentDetails&maxResults=50&playlistId="+ya+"&key="+X+"";else"youtube_video_query"==l&&(wa="https://www.googleapis.com/youtube/v3/search?pageToken="+e.nextPageToken+"&part=id,snippet&maxResults=50&order="+F+"&q="+J.path+"&key="+X+"");p(wa)}else f();else $a&&(ab++,ab<xa.length?(qa=0,ya=xa[ab],wa="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+ ya+"&key="+X+"",p(wa)):($a=!1,f())),f();else xa.length?(1<xa.length&&($a=!0),ya=xa[ab],wa="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+ya+"&key="+X+"",l="youtube_playlist",p(wa)):f()}).fail(function(e,g,l){alert("There was an error retrieveing youtube data: "+e.responseText);f()})}function na(e,f){var g=jQuery.extend(!0,{},J);g.deeplink&&"youtube_single"!=g.type&&(g.deeplink+=(Fa+1).toString());g.data=e;g.type="youtube";g.origtype= f;"youtube_single"==f?g.id=e.id:"youtube_playlist"==f?g.id=e.contentDetails.videoId:"youtube_video_query"==f&&(g.id=e.id.videoId);g.title||(g.title=e.snippet.title?e.snippet.title:null);g.description||(g.description=e.snippet.description?e.snippet.description:null);!g.thumb&&e.snippet.thumbnails&&(e.snippet.thumbnails.medium?g.thumb=e.snippet.thumbnails.medium.url:e.snippet.thumbnails.standard&&(g.thumb=e.snippet.thumbnails.standard.url));return g}var C=this,M=jQuery.noConflict(),l,J,ba=[],Ga=[], xa=[],ab=0,ya,$a,qa,Fa,qb,F,N="date rating relevance title videoCount viewCount".split(" "),X=g.yt_app_id;M.inArray(e.location.protocol,["http:","https:"]);this.setData=function(e){X&&""!=X?(Ga=[],ba=M.extend(!0,[],[e]),f()):alert("Youtube API key missing! Please set API key in player settings.")}}})(window);var hap_source_path="",rvp_mediaArr=[],audio=document.createElement("audio"),mp3Support,oggSupport,html5Support=!1; audio.canPlayType&&(html5Support=!0,mp3Support=!!audio.canPlayType&&""!=audio.canPlayType("audio/mpeg"),oggSupport=!!audio.canPlayType&&""!=audio.canPlayType('audio/ogg; codecs="vorbis"'));var isMobile=/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent),isIOS=!1,agent=navigator.userAgent,isAndroid=-1<agent.indexOf("Android"),isiPhoneIpod=-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod"),isiPad=-1<agent.indexOf("iPad"); if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))isIOS=!0;var mobile_type;if(-1<agent.indexOf("iPhone")||-1<agent.indexOf("iPod")||-1<agent.indexOf("iPad"))-1<agent.indexOf("iPhone")?mobile_type="iPhone":-1<agent.indexOf("iPod")?mobile_type="iPod":-1<agent.indexOf("iPad")&&(mobile_type="iPad");var isSafari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),isChrome=!isSafari&&testCSS("WebkitTransform"),isOpera=!(!window.opera||!window.opera.version); function testCSS(e){return e in document.documentElement.style}var isWindows=!1;-1!==agent.toLowerCase().indexOf("windows")&&(isWindows=!0);var isIE=!1,ieBelow9=!1,ieBelow8=!1,ie_check=getInternetExplorerVersion();-1!=ie_check&&(isIE=!0,9>ie_check&&(ieBelow9=!0),8>ie_check&&(ieBelow8=!0)); function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var g=navigator.userAgent,f=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=f.exec(g)&&(e=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(g=navigator.userAgent,f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=f.exec(g)&&(e=parseFloat(RegExp.$1)));return e} function inject_facebook_sdk(e){var g,f=jQuery.inArray(window.location.href.split(":")[0],["http","https"])?"https://":"//";if(!window.FB&&e&&!document.body.querySelector("#fb-root"))return g=document.createElement("script"),g.text="window.fbAsyncInit=function(){FB.init({appId:'"+e+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+f+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')", e=document.createElement("div"),e.id="fb-root",document.body.appendChild(e),document.body.appendChild(g)} (function(e){e.fn.videoGallery=function(g){function f(a){var D=bb,e=ca,f=parseInt(e.css("left"),10),e=e.width(),g=D.width();D.css("left",(e-g-25)/e*(a.pageX-f)+10+"px")}function p(){var a,D,e,f,g=!1,k=ca,x=bb;x.unbind("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").bind("touchstart.ap",function(n){if(!q)return!1;if(!cb)return!0;n=n.originalEvent.touches[0];a=x.position().left;x.position();D=n.pageX;e=n.pageY;f=!1;g=!0}).bind("touchmove.ap",function(n){if(g){n=n.originalEvent.touches[0]; var l=a-D+n.pageX,p=k.width();0<l&&(l=0);l<p-x.width()&&(l=p-x.width());x.css("left",l+"px");f=f||5<Math.abs(D-n.pageX)||5<Math.abs(e-n.pageY);return!1}}).bind("touchend.ap",function(a){g=!1}).bind("click.ap-touchclick",function(a){if(f)return f=!1})}function na(a){if(!q||t||Kb)return!1;if(!rb){if(Aa){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();rb=!0;ha.bind(sb,function(a){a:{var e;if(Aa){if(a.originalEvent.touches&&a.originalEvent.touches.length)e=a.originalEvent.touches; else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)e=a.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=a;a.preventDefault();C(e.pageX)}});ha.bind(Pa,function(a){a:if(rb){rb=!1;ha.unbind(sb).unbind(Pa);var e;if(Aa){if(a.originalEvent.touches&&a.originalEvent.touches.length)e=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)e=a.originalEvent.changedTouches;else break a;if(1<e.length)break a; e=e[0]}else e=a;a.preventDefault();C(e.pageX)}})}return!1}function C(a){var e;e=a-Dc.offset().left;0>e?e=0:e>ia&&(e=ia);a=Math.max(0,Math.min(1,e/ia));if("local"==m)if(dc.css("width",e+"px"),oa){if(Q){a*=r.duration;a=a.toFixed(1);try{r.currentTime=a}catch(f){}}}else"undefined"!==typeof R(K)&&R(K).pb_seek(a)}function M(){if(!Q||U&&tb)return!1;Lb.css("display","block");db.bind("mousemove",J).bind("mouseout",l);ha.bind("mouseout",l)}function l(){if(!Q)return!1;Lb.css("display","none");db.unbind("mousemove", J).unbind("mouseout",l);ha.unbind("mouseout",l)}function J(a){var e=a.pageX-Dc.offset().left;0>e?e=0:e>ia&&(e=ia);a=parseInt(a.pageX-db.offset().left-Lb.width()/2,10);Lb.css("left",a+"px");var e=Math.max(0,Math.min(1,e/ia)),f,za;if("local"==m)if(oa)f=e*r.duration,za=r.duration;else if("undefined"!==typeof R(K))za=R(K).pb_getFlashDuration(),f=e*za;else return;Lb.find("p").html(Ec(f)+" | "+Fc(za))}function ba(){O&&clearTimeout(O);Ba.css("display","none");Mb=!1}function Ga(a){if(!q||t||rb)return!1;if(!Kb){if(Aa){if(a= a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Kb=!0;ha.bind(sb,function(a){a:{var e;if(Aa){if(a.originalEvent.touches&&a.originalEvent.touches.length)e=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)e=a.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=a;a.preventDefault();xa(e.pageY)}}).bind(Pa,function(a){a:if(Kb){Kb=!1;ha.unbind(sb).unbind(Pa);var e;if(Aa){if(a.originalEvent.touches&& a.originalEvent.touches.length)e=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)e=a.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=a;a.preventDefault();xa(e.pageY)}})}return!1}function xa(a){B=Math.max(0,Math.min(1,(a-Gc.offset().top)/ub));B=1-B;ya()}function ab(){if(!q||t)return!1;0<B?(ec=B,B=0):B=ec}function ya(){"local"==m?(oa?r&&(r.volume=B):"undefined"!==typeof R(K)&&R(K).pb_setVolume(B),xd.css("height",B*ub+ "px"),0==B?k.find(".player_volume").find("i").removeClass("fa-volume-up").addClass("fa-volume-off"):0<B&&k.find(".player_volume").find("i").removeClass("fa-volume-off").addClass("fa-volume-up"),isMobile&&fc&&(O&&clearTimeout(O),O=setTimeout(ba,gc))):"youtube"==m?E&&E.setVolume(B):"vimeo"==m&&H&&H.setVolume(B)}function $a(){fc&&O&&clearTimeout(O);Qa.css("display","block");Ba.bind("mousemove",Fa).bind("mouseout",qa);ha.bind("mouseout",qa)}function qa(){fc&&(O&&clearTimeout(O),O=setTimeout(ba,gc));Qa.css("display", "none");Ba.unbind("mousemove",Fa).unbind("mouseout",qa);ha.unbind("mouseout",qa)}function Fa(a){a=a.pageY-Gc.offset().top;0>a?a=0:a>ub&&(a=ub);var e=parseInt(a-Qa.height()/2+oe,10);Qa.css("top",e+"px");a=Math.max(0,Math.min(1,a/ub));a=parseInt(100*(1-a),10);Qa.find("p").html(a+" %")}function qb(){var a,e,f,za,g,l=!1;y.unbind("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").bind("touchstart.ap",function(x){if(!q||t)return!1;if(!cb)return!0;x=x.originalEvent.touches[0];a=y.position().left; e=y.position().top;f=x.pageX;za=x.pageY;g=!1;l=!0}).bind("touchmove.ap",function(x){if(l){x=x.originalEvent.touches[0];if("horizontal"==L){var n=a-f+x.pageX,k=ra.width();0<n?(n=0,F("off")):F("on");n<k-v?(n=k-v,N("off")):N("on");y.css("left",n+"px")}else n=e-za+x.pageY,k=ra.height(),0<n?(n=0,F("off")):F("on"),n<k-v?(n=k-v,N("off")):N("on"),y.css("top",n+"px");g=g||5<Math.abs(f-x.pageX)||5<Math.abs(za-x.pageY);return!1}}).bind("touchend.ap",function(a){l=!1}).bind("click.ap-touchclick",function(a){if(g)return g= !1})}function F(a){"on"==a?eb&&eb.css("display","block"):eb&&eb.css("display","none")}function N(a){"on"==a?fb&&fb.css("display","block"):fb&&fb.css("display","none")}function X(){if("horizontal"==L){var a=ra.width(),e;v>a?(F("on"),N("on"),cb=!0,e=parseInt(y.css("left"),10),e<a-v?(I&&clearInterval(I),e=a-v):0<e&&(e=0),y.css("left",e+"px"),0<=parseInt(y.css("left"),10)&&F("off")):(F("off"),N("off"),cb=!1,y.css("left",a/2-v/2+"px"))}else a=ra.height(),v>a?(F("on"),N("on"),cb=!0,e=parseInt(y.css("top"), 10),e<a-v?(I&&clearInterval(I),e=a-v):0<e&&(e=0),y.css("top",e+"px"),0<=parseInt(y.css("top"),10)&&F("off")):(F("off"),N("off"),cb=!1)}function wa(){if("scroll"==Ha)if(!vb)vb=wb,"horizontal"==L?(vb.jScrollPane({horizontalDragMinWidth:100,horizontalDragMaxWidth:100}),isMobile||wb.bind("mousewheel",le)):vb.jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:100,mouseWheelSpeed:30,contentWidth:"0px"}),xb=vb.data("jsp"),vb.bind("jsp-initialised",function(a,e){});else{if("block"==pa.css("display"))if(xb.reinitialise(), "vertical"==L)xb.scrollToY(0),pa.find(".jspPane").css("top","0px");else{var a=ra.width();v>a&&(xb.scrollToX(0),pa.find(".jspPane").css("left","0px"))}}else"buttons"==Ha&&(eb=k.find(".thumbBackward").css({cursor:"pointer",display:"none"}).bind(yb,function(){if(!q||t)return!1;I&&clearInterval(I);I=setInterval(function(){var a;"horizontal"==L?(a=parseInt(y.css("left"),10),a+=zb,0<a?(I&&clearInterval(I),a=0,F("off")):F("on"),y.css("left",a+"px")):(a=parseInt(y.css("top"),10),a+=zb,0<a?(I&&clearInterval(I), a=0,F("off")):F("on"),y.css("top",a+"px"));N("on")},100);return!1}).bind(Pa,function(){I&&clearInterval(I);return!1}),fb=k.find(".thumbForward").css({cursor:"pointer",display:"none"}).bind(yb,function(){if(!q||t)return!1;I&&clearInterval(I);I=setInterval(function(){var a;"horizontal"==L?(a=parseInt(y.css("left"),10),w=ra.width(),a-=zb,a<w-v?(I&&clearInterval(I),a=w-v,N("off")):N("on"),y.css("left",a+"px")):(a=parseInt(y.css("top"),10),h=ra.height(),a-=zb,a<h-v?(I&&clearInterval(I),a=h-v,N("off")): N("on"),y.css("top",a+"px"));F("on")},100);return!1}).bind(Pa,function(){I&&clearInterval(I);return!1}),X(),isMobile||wb.bind("mousewheel",function(a,e,f,g){if(!q||t)return!1;a=0<e?1:-1;f="vertical"==L?ra.height():ra.width();if("horizontal"==L){if(v<f)return!1;e=parseInt(y.css("left"),10);e+=zb*a;0<e?e=0:e<f-v&&(e=f-v);y.css("left",e+"px")}else{if(v<f)return!1;e=parseInt(y.css("top"),10);e+=zb*a;0<e?e=0:e<f-v&&(e=f-v);y.css("top",e+"px")}0==e?(F("off"),N("on")):e<=f-v?(N("off"),F("on")):(F("on"), N("on"),cb=!0);return!1}))}function le(a,e,f,g){if(!q||t)return!1;xb&&xb.scrollByX(100*(0<e?-1:1));return!1}function me(){t||(Nb&&clearInterval(Nb),Ia&&clearTimeout(Ia),hc(Hc))}function ne(){Ia&&clearTimeout(Ia);hc(Hc)}function Cc(a){var e=a.length,f="",g=0,l,k;for(g;g<e;g++)if(l=a.charAt(g).toLowerCase(),"\\"==l&&(l="/"),k=l.charCodeAt(0),97<=k&&122>=k||48<=k&&57>=k||0<="_-".indexOf(l))f+=l;return f}function hc(a){a.stopPropagation();Ic||(Ic=!0);if("/"==a.value&&(Ra=!0,e.address.history(!1),!V(Ja))){e.address.value(Ja); e.address.history()||e.address.history(!0);return}Ca=a.value;"/"==Ca.charAt(0)&&(Ca=Ca.substring(1));"/"==Ca.charAt(Ca.length-1)&&(Ca=Ca.substring(0,Ca.length-1));a=Ca;var f;0<a.indexOf("/")?(Jc=!0,ic=f=a.substr(0,a.indexOf("/")),Ob=a.substr(a.indexOf("/")+1)):(ic=a,Jc=!1,Ob=null,f=a);a=Cc(f);f=!1;var g=0,za=da.length;for(g;g<za;g++)if(da[g].categoryName==a){ja=g;gb=da[g].id;f=!0;break}if(!f)return-1==e.inArray(a,yd)&&alert("404 page not found, check your deeplinks first level!"),e.address.history(!1), !1;Ra=!1;void 0==jc||jc!=ja?kc():Ob?zd(Ob)?u.getCounter()!=lc?(Ra=!0,-1!=u.getCounter()&&Sa(),u.setCounter(lc,!1)):(mc(),Ab()):(alert("404 page not found, check your deeplinks second level!"),e.address.history(!1)):Ad()}function zd(a){var e=!1,f=0,g=da[ja].mediaName,l=g.length;for(f;f<l;f++)if(g[f]==a){lc=f;e=!0;break}return e?!0:!1}function pe(a){return da[ja].categoryName+"/"+da[ja].mediaName[a]}function Pb(a){W++;W>z-1?Bd?(Bd=!1,Qb()):qe():Kc()}function Kc(){var a=P[W].type;if(/local/.test(a))Ka.push(P[W]), Pb();else if(/folder/.test(a))re();else if(/xml/.test(a))se();else if(/youtube/.test(a))Cd.setData(P[W]);else if(/vimeo/.test(a)){var a=P[W],f=a.type;Y&&(nc=a.fromapi?-1!=e.inArray(f,Dd)?f.replace(/\./g,"_")+parseInt(99999999*Math.random(),10):"vimeo.single_video"==f?f.replace(/\./g,"_")+parseInt(99999999*Math.random(),10):a.deeplink:a.deeplink);-1!=e.inArray(f,Dd)?(La=Ed(a.limit)?a.limit:500,Lc=!1,Ta=0,Rb=1,Fd()):(alert("Invalid data-type in playlist!"),Bb())}}function kc(){t=!0;Ma.css("display", "block");if(!Gd){Gd=!0;var a=e("<div/>").addClass("playlistNonSelected").css("left",-1E4).appendTo(pa);Hd=parseInt(a.css("marginBottom"),10);Id=parseInt(a.css("marginRight"),10);a.remove();a=null}if(!Jd)if(Jd=!0,oa)e(K).remove(),ka.css("display","block");else{te();return}la&&Mc();jc=ja;W=0;Ka=[];P=[];var f,g,a=e(Kd.find("div[id="+gb+"]"));if(0==a.length)return alert("Failed playlist selection! No playlist with id: "+gb),Bb(),!1;la=a;a.children("div[class*=playlistNonSelected]").each(function(){g= e(this);f=Nc(g);P.push(f)});z=P.length;Kc()}function re(){var a=e(P[W].item),f=hap_source_path+"includes/folder_parser.php",g=!1;void 0!=a.attr("data-subdirs")&&"true"==a.attr("data-subdirs")&&(g=!0);g={dir:"../"+a.attr("data-path"),sub_dirs:g};Y&&(nc=a.attr("data-address"),Ta=0);e.ajax({type:"GET",url:f,data:g,dataType:"json"}).done(function(a){ue(a,"path");var e=0,f=a.length,D,g;for(e;e<f;e++)D=a[e],g={},g.type=g.origtype="folder",D=D.path,D=D.substr(3),/.mp4/.test(D)&&(g.id=D,g.preview=D.substr(0, D.lastIndexOf("."))+".jpg",g.thumb=g.preview.replace("/main/","/preview/"),D=D.substr(0,D.lastIndexOf(".")),D=D.indexOf("/")?D.substr(D.lastIndexOf("/")+1):D,g.title=D.split("_").join(" "),Y&&(g.deeplink=nc+(Ta+1).toString(),Ta++),g.item=P[W].item,Ka.push(g));Pb()}).fail(function(a,e,f){alert("There was an error processing folder: "+a.responseText);Bb()})}function se(){var a=P[W],f=0,g=W;P.splice(g,1);e.ajax({type:"GET",url:a.path,dataType:"html",cache:!1}).done(function(a){var l,k;e(a).children().each(function(){l= e(this);k=Nc(l);P.splice(g,0,k);g++;f++});z+=f-1;--W;Pb()}).fail(function(a,e,f){alert("There was an error processing xml: "+a.responseText);Bb()})}function Nc(a){var e={};e.type=a.attr("data-type");e.item=a;void 0==a.attr("data-path")||V(a.attr("data-path"))||(e.path=a.attr("data-path"));void 0==a.attr("data-user")||V(a.attr("data-user"))||(e.user=a.attr("data-user"));void 0==a.attr("data-query")||V(a.attr("data-query"))||(e.query=a.attr("data-query"));void 0==a.attr("data-sort")||V(a.attr("data-sort"))|| (e.sort=a.attr("data-sort"));void 0==a.attr("data-limit")||V(a.attr("data-limit"))||(e.limit=parseInt(a.attr("data-limit"),10));Y&&void 0!=a.attr("data-address")&&!V(a.attr("data-address"))&&(e.deeplink=a.attr("data-address"));void 0==a.attr("data-description")||V(a.attr("data-description"))||(e.description=a.attr("data-description"));return e}function Fd(){var a=P[W],f=a.type,g="includes/vimeo/src/vimeo_data.php?rand="+99999999*Math.random(),a={type:a.type,path:a.path||null,user:a.user||null,sort:a.sort|| null,query:a.query||null,page:Rb,per_page:per_page=50>La?La:50};e.ajax({type:"GET",url:g,data:a,dataType:"json"}).done(function(a){if(a.body.error)return console.log(a.body.error),!1;Lc||(Lc=!0,a.body.data?(La>a.body.total&&(La=a.body.total),Sb=Math.ceil(a.body.total/50),Sb>Math.ceil(La/50)&&(Sb=Math.ceil(La/50))):Sb=1);var e,g,l,k;a.body.data?(e=a.body.data.length,e+Ta>La&&(e=La-Ta)):e=1;for(g=0;g<e;g++)k=1<e?a.body.data[g]:a.body,l={},Y&&(l.deeplink=nc+(Ta+1).toString()),l.type="vimeo",l.origtype= f,l.id=k.uri.substr(k.uri.lastIndexOf("/")+1),k.duration&&(l.duration=k.duration),k.name&&(l.title=k.name),k.description&&(l.description=k.description),k.pictures&&k.pictures.sizes&&(l.thumb=k.pictures.sizes[0].link),k.width&&(l.width=k.width),k.height&&(l.height=k.height),l.item=P[W].item,Ka.push(l),Ta++;Rb<Sb?(Rb+=1,Fd()):(0==Ka.length&&alert("Vimeo response contains no results!"),Pb())}).fail(function(a,e,f){alert("There was an error retrieveing vimeo data: "+a.responseText);Bb()})}function qe(){var a= 0,f=Ua?ea:A.length,g=Ka.length,l,k,p,x,n,m,q,t=0;if(Y){if(!ja&&0!==ja){var r={};l="ap_playlist"+Ld;yd.push(l);Ld++;r.categoryName=r.id=l;r.fromapi=!0;da.push(r);jc=ja=da.length-1;ic=l;e.address.value(l)}da[ja].mediaName?r=da[ja].mediaName:(r=[],da[ja].mediaName=r);l=e.address.strict()?"#/":"#";var v=Oc+l+ic+"/"}for(a;a<g;a++){var y=a+f;Ua&&t++;n=Ka[a];l=n.type;k="";"local"==l?(x=e(n.item).clone(),Y&&(p=Cc(x.attr("data-address")),r.push(p)),m=x.find("span[class='playlistTitle']").length?x.find("span[class='playlistTitle']").html(): "",q=n.description?n.description:"",p=x.find("img[class='thumb']").animate({opacity:1},{duration:500,easing:"easeOutSine"}),void 0!=p.attr("src")&&(k=p.attr("src")),A.splice(y,0,{id:y,type:l,origtype:"local",mp4:x.attr("data-mp4"),title:m,description:q,thumb:ve(k),deeplink:Y?v+n.deeplink:Oc,item:x})):("folder"==n.origtype&&(l="local"),Y&&(p=Cc(n.deeplink),r.push(p)),x=e("<div/>").addClass("playlistNonSelected").attr({"data-type":l,"data-mp4":n.id}),k=e("<div/>").addClass("playlistThumb").appendTo(x), p=e(new Image).css("opacity",0).load(function(){e(this).addClass("thumb").stop().animate({opacity:1},{duration:500,easing:"easeOutSine"})}).error(function(a){}).attr({src:n.thumb}).appendTo(k),k=n.description?n.description:"",p=e('<p><span class="playlistTitle">'+(n.title?n.title:"")+'</span><br><span class="playlistContent">'+k+"</span></p>"),e("<div/>").html(p).addClass("playlistInfo").appendTo(x),V(k)||x.attr("data-description",k),A.splice(y,0,{id:y,type:l,origtype:n.origtype,mp4:n.id,title:n.title? n.title:"",description:n.description?n.description:"",thumb:n.thumb,deeplink:Y?v+n.deeplink:Oc,item:x}));Pc||(Ua?(oc?oc.after(x):Cb?x.appendTo(la):la.children().eq(ea).before(x),oc=x):x.appendTo(Tb));Ub||(n.item.children("div[class='ap_elem']").length&&n.item.children("div[class='ap_elem']").clone().appendTo(x),n.item.find("div[class='ap_adv']").length&&(A[A.length-1].ap_adv=n.item.find("div[class='ap_adv']").eq(0)));x.css({cursor:"pointer"}).bind("click",we).attr("data-id",z-1);isMobile||x.bind("mouseenter", xe).bind("mouseleave",ye)}oc=null;la=Tb;z=A.length;Md();e(".playlistInfo").dotdotdot();Nd();wa();Ua||Ub?(a=u.getCounter(),u.setPlaylistItems(z,!1),ea<=a&&(Cb||u.reSetCounter(a+t)),pc&&!isMobile&&hb(!0),qc?(qc=!1,u.setCounter(ea,!1)):pc&&(Sa(),u.setCounter(ea,!1))):u.setPlaylistItems(z);Bb();Qb();0==z&&"undefined"!==typeof rvpPlaylistEmpty&&rvpPlaylistEmpty(fa,ma);"undefined"!==typeof rvpPlaylistLoaded&&rvpPlaylistLoaded(fa,ma)}function Nd(){if(0<z){var a=0,f;for(a;a<z;a++)f=e(A[a].item),"horizontal"== L?f.css("marginRight",Id+"px"):f.css("marginBottom",Hd+"px");"vertical"==L?A[z-1].item.css("marginBottom","0px"):A[z-1].item.css("marginRight","0px");a=v=0;for(a;a<z;a++)f=e(A[a].item),v="horizontal"==L?v+f.outerWidth(!0):v+f.outerHeight(!0);"buttons"==Ha?("horizontal"==L&&wb.width(v),X()):"scroll"==Ha&&"horizontal"==L&&la.width(v);"buttons"==Ha&&("horizontal"==L?(a=ra.width(),v<=a&&y.css("left","0px")):(a=ra.height(),v<=a&&y.css("top","0px")))}}function Md(){var a=0;z=A.length;for(a;a<z;a++)A[a].id= a,e(A[a].item).attr("data-id",a).find("[data-id]").each(function(){e(this).attr("data-id",a)}).find("[data-apNumToReturn]").each(function(){e(this).attr("data-apNumToReturn",a)})}function xe(a){if(!q||t)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget);if(parseInt(a.attr("data-id"),10)==u.getCounter())return!1;a.removeClass("playlistNonSelected").addClass("playlistSelected");return!1}function ye(a){if(!q||t)return!1;a||(a=window.event); a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget);if(a.attr("data-id")==u.getCounter())return!1;a.removeClass("playlistSelected").addClass("playlistNonSelected");return!1}function we(a){if(!q||t)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget).attr("data-id");if(a==u.getCounter())return!1;isMobile||hb(!0);Sa();u.processPlaylistRequest(a);"undefined"!==typeof rvpItemTriggered&&rvpItemTriggered(fa, ma,a);return!1}function Sa(){if(-1!=u.getCounter()){var a=u.getCounter();(a=e(A[a].item))&&a.removeClass("playlistSelected").addClass("playlistNonSelected").css("cursor","pointer")}}function mc(){var a=u.getCounter();(a=e(A[a].item))&&a.removeClass("playlistNonSelected").addClass("playlistSelected").css("cursor","default")}function ze(a){if(!q||t)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=e(a.currentTarget).attr("class").split(" ");-1!=e.inArray("player_toggleControl", a)?Va():-1!=e.inArray("player_volume",a)?isMobile?fc?(O&&clearTimeout(O),Mb?(Ba.css("display","none"),Mb=!1):(Ba.css("display","block"),Mb=!0,O=setTimeout(ba,gc))):(ab(),ya()):(ab(),ya()):-1!=e.inArray("info_toggle",a)?Qc():-1!=e.inArray("ap_share_btn",a)?(ca.toggle(),Da.css("display","none"),Wa=!1):-1!=e.inArray("player_fullscreen",a)?(Rc=0,sa="normal"==sa?"fullscreen":"normal",rc&&(a=document.documentElement,a.requestFullscreen?document.fullscreenElement||document.fullscreenElement?document.exitFullscreen(): a.requestFullscreen():a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():a.mozRequestFullScreen())),rc?"normal"==sa&&sc():sc()):-1!=e.inArray("player_prev",a)?q&&(Sa(),u.advanceHandler(-1,!0)):-1!= e.inArray("player_next",a)&&Sc();return!1}function Ae(a){a.preventDefault();if(!q||t)return!1;e(a.currentTarget).find("i").removeClass("icon_color").addClass("icon_rollover_color")}function Be(a){a.preventDefault();if(!q||t)return!1;e(a.currentTarget).find("i").removeClass("icon_rollover_color").addClass("icon_color")}function Bb(){Ua=Ub=!1;Ma.css("display","none");t=!1}function Qb(){Ua=!1;Ma.css("display","none");q||(Tc(),q=!0,setTimeout(function(){"undefined"!==typeof rvpSetupDone&&rvpSetupDone(fa, ma)},50),"local"==m&&Na());if(!Uc&&(Uc=!0,!Ua&&0<z)){if(Y){if(Jc){if(!zd(Ob)){alert("404 page not found, check your deeplinks second level!");e.address.history(!1);return}Ra=!0;u.setCounter(lc,!1)}}else{var a=parseInt(g.activeItem,10);a>z-1&&(a=z-1);-1<a&&u.setCounter(a,!1)}Vc()}}function Sc(){q&&(Sa(),u.advanceHandler(1,!0))}function Ad(){q&&m&&(m&&tc(),Sa(),u.reSetCounter())}function Mc(){q&&(m&&tc(),Tb.empty(),A=[],u.reSetCounter(),Uc=Wa=Db=!1,"buttons"==Ha&&("horizontal"==L?y.css("left","0px"): y.css("top","0px"),eb&&eb.css("display","none"),fb&&fb.css("display","none")))}function Ab(){tc();var a=u.getCounter();Eb||void 0==A[a].ap_adv?(ta=e(A[a].item),U=!1,Eb=!0):(ta=A[a].ap_adv,U=!0);U&&Vb&&(tb=g.disableSeekbarInAdvert,ib=!1,void 0!=ta.attr("data-skipEnableTime")&&0<parseInt(ta.attr("data-skipEnableTime"),10)?(Ea=parseInt(ta.attr("data-skipEnableTime"),10),jb.show(),uc.empty().show().append(e('<img class="adv_thumb" src="'+A[u.getCounter()].thumb+'" alt=""/>'))):(Ea=null,uc.hide(),jb.hide(), vc.show(),tb=!1));m=ta.attr("data-type");ua=ta.attr("data-mp4");"local"==m?Xa?oa?Od():"undefined"!==typeof R(K)&&(R(K).pb_play(ua,Ya,kb.width(),kb.height(),"local",!0),Q=!0):(Ce(),Na()):"youtube"==m?De():"vimeo"==m&&Ee();isMobile||"undefined"!==typeof rvpItemTriggered&&setTimeout(function(){rvpItemTriggered(fa,ma,u.getCounter())},50)}function tc(){va&&clearInterval(va);G.children("div[class='ap_elem']").remove();Za=[];Wc.hide();vc.hide();Wb&&ca.css("display","none");Xc();Fe();if(m&&"local"==m){if(oa){if(r){r.pause(); try{r.currentTime=0}catch(a){}r.src=""}Oa&&Oa.unbind("ended",Xb).unbind("loadedmetadata",Pd).unbind("waiting",Qd).unbind("playing",Rd).unbind("play",Fb).unbind("pause",Yb);ka.css("display","none");isMobile||(ka.html(""),Db=!1)}else"undefined"!==typeof R(K)&&R(K).pb_dispose();Zb();Gb("off");S&&(S.remove(),S=null);lb.css("display","none");wc.find("p").html("00:00");xc.find("p").html("00:00");dc.width(0);Yc.width(0);mb=nb=null}else m&&"youtube"==m?(E&&E.stop(),Hb.css("left","-10000px")):m&&"vimeo"== m&&H&&H.clean();U||(Eb=!1);Z.css("left","-10000px");Z.css("opacity",0);isIE&&ieBelow9&&Z.css("display","none");Zc=Q=ob=$c=!1}function Gb(a){Z.css("left","0px");Z.css("display","block");"off"==a?(Z.css("opacity",0),Z.css("left","-10000px"),isIE&&ieBelow9&&(Sd.css("display","none"),Td.css("display","none"),"local"==m&&(Z.css("opacity",1),Z.css("left","0px")))):(Z.css("opacity",1),isIE&&ieBelow9&&(Sd.css("display","block"),Td.css("display","block")))}function De(){Ud?(Hb.css("left","0px"),E.initVideo(ua)): (E=e.youtubePlayer({autoPlay:ad,defaultVolume:B,mediaPath:ua,youtubeHolder:Hb,youtubeChromeless:Ge,isMobile:isMobile,initialAutoplay:bd,quality:He,protocol:aa}),e(E).bind("ap_YoutubePlayer.YT_READY",function(){}),e(E).bind("ap_YoutubePlayer.START_PLAY",function(){Q=!0;isMobile||hb(!0);yc();Na();va&&clearInterval(va);va=setInterval(cd,dd)}),e(E).bind("ap_YoutubePlayer.END_PLAY",function(){Xb()}),e(E).bind("ap_YoutubePlayer.STATE_PLAYING",function(){Fb()}),e(E).bind("ap_YoutubePlayer.STATE_PAUSED", function(){Yb()}),e(E).bind("ap_YoutubePlayer.STATE_CUED",function(){}),Ud=!0)}function Ee(){Vd?H.initVideo(ua):(H=e.vimeoPlayer({autoPlay:ed,defaultVolume:B,mediaPath:ua,vimeoHolder:fd,isMobile:isMobile,initialAutoplay:bd,protocol:aa}),e(H).bind("ap_VimeoPlayer.VIMEO_READY",function(){}),e(H).bind("ap_VimeoPlayer.VIMEO_PLAY",function(){$c||(Q=!0,isMobile||hb(!0),yc(),Na(),$c=!0,va&&clearInterval(va),va=setInterval(cd,dd));Fb()}),e(H).bind("ap_VimeoPlayer.VIMEO_PAUSE",function(){Yb()}),e(H).bind("ap_VimeoPlayer.END_PLAY", function(){Xb()}),Vd=!0)}function Ce(){lb.css("display","block");Ma.css("display","block");var a=ta.attr("data-preview")+"?rand="+99999999*Math.random();S=e(new Image).addClass("ap_media").css({position:"absolute",display:"block",opacity:0}).load(function(){Ma.css("display","none");gd=this.width;hd=this.height;mb=this.width;nb=this.height;e(this).appendTo(lb);id(S);S.animate({opacity:1},{duration:500,easing:"easeOutSine"});Gb("on")}).error(function(a){}).attr("src",a)}function Od(){Ma.css("display", "block");ua=ta.attr("data-mp4");if(Db)ka.css({opacity:0,display:"block"}),Oa=ka.find(".ap_media"),r=Oa[0],r.src=ua,r.load();else{var a;a=""+('<video class="ap_media" width="'+mb+'" height="'+nb+'">');a+='<source src="'+ua+'" />';a+="</video>";if(!isAndroid){var e=a.match(/\/\>/);a=a.slice(0,e.index)+'type="video/mp4"'+a.slice(e.index)}ka.css({opacity:0,display:"block"}).html(a);Oa=ka.find(".ap_media");r=Oa[0]}r.volume=B;Oa.css("position","absolute").bind("ended",Xb).bind("loadedmetadata",Pd).bind("waiting", Qd).bind("playing",Rd).bind("play",Fb).bind("pause",Yb);isIOS&&!Db?(r.src=ua,r.load()):isAndroid&&!Db&&(r.play(),Gb("off"),S&&S.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){S.remove();S=null}}),Q=!0,Na());Db=!0}function Qd(a){Ma.css("display","block")}function Rd(a){Ma.css("display","none")}function Fb(a){jd.find("i").removeClass("fa-play").addClass("fa-pause");Gb("off");Zc||("undefined"!==typeof rvpVideoStart&&rvpVideoStart(fa,ma,u.getCounter()),isIE&&ieBelow9&& "local"==m&&Z.css("display","block"),Zc=!0);"undefined"!==typeof rvpPlay&&rvpPlay(fa,ma,u.getCounter());ob=!0}function Yb(a){jd.find("i").removeClass("fa-pause").addClass("fa-play");"local"==m&&Gb("on");"undefined"!==typeof rvpPause&&rvpPause(fa,ma,u.getCounter());ob=!1}function Pd(a){r.videoWidth&&(mb=r.videoWidth);r.videoHeight&&(nb=r.videoHeight);kd();va&&clearInterval(va);va=setInterval(cd,dd);r.play();Q=!0;ka.stop().animate({opacity:1},{duration:300});yc();isMobile?Xa=!0:hb(!0);Na()}function hb(a){Xa= ad=ed=bd=a;E&&E.setAutoPlay(a);H&&H.setAutoPlay(a)}function Va(){if(-1==u.getCounter())return!1;"local"==m?Q||Xa?oa?r.paused?r.play():r.pause():"undefined"!==typeof R(K)&&R(K).pb_togglePlayback():(Gb("off"),S&&S.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){S.remove();S=null}}),oa?Od():"undefined"!==typeof R(K)&&R(K).pb_play(ua,Ya,kb.width(),kb.height(),"local",!0)):"youtube"==m?E&&E.togglePlayback():"vimeo"==m&&H&&H.togglePlayback();Q=!0;return!1}function cd(){var a; if("local"==m){wc.find("p").html(Ec(r.currentTime));xc.find("p").html(Fc(r.duration));if(!rb){dc.width(r.currentTime/r.duration*ia);try{var e=Math.floor(r.buffered.end(0))}catch(f){}isNaN(e)||(a=e/Math.floor(r.duration),isNaN(a)||Yc.width(a*ia))}a=parseInt(parseInt(r.currentTime),10);U&&Vb&&null!=Ea&&!ib&&(a<Ea?jb.find("p").html(Wd+" "+(Ea-a).toString()):(ib=!0,uc.hide(),jb.hide(),vc.show(),tb=!1))}else"youtube"==m?E&&(a=parseInt(E.getCurrentTime(),10)):"vimeo"==m&&H&&(a=parseInt(H.getCurrentTime(), 10));Za&&Za.length&&a!=ld&&Xd(a)}function Xd(a){var e=0,f=Za.length,g,l,k;for(e;e<f;e++)g=Za[e],l=g.start,k=g.end,g=g.item,a>=parseInt(l,10)&&a<=parseInt(k-1,10)?g.css("display","block"):g.css("display","none");ld=a}function Xb(){"undefined"!==typeof rvpVideoEnd&&rvpVideoEnd(fa,ma,u.getCounter());if(U)Eb=!0,Ab();else if(Ie)Sc();else if("local"==m){if(oa){try{r.currentTime=0}catch(a){}r.paused&&r.play();Xa||r.pause()}}else"youtube"==m?Xa&&E.play():"vimeo"==m&&Xa&&H.play()}function yc(){var a=u.getCounter(); A[a].description&&!V(A[a].description)&&(Je.html(A[a].description),md.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),Ke&&Qc());ta.children("div[class='ap_elem']").length&&e(ta.children("div[class='ap_elem']")).each(function(){var a=e(this).clone().bind("mouseenter",function(a){e(this).addClass("ap_elem_hover").find(".ap_el_close").show()}).bind("mouseleave",function(a){e(this).removeClass("ap_elem_hover").find(".ap_el_close").hide()});a.find(".ap_el_close").on("click", function(){Le?e(this).parent().remove():e(this).parent().hide();return!1});G.append(a);Za.push({start:isNaN(parseInt(a.attr("data-show"),10))?0:parseInt(a.attr("data-show"),10),end:isNaN(parseInt(a.attr("data-hide"),10))?1E5:parseInt(a.attr("data-hide"),10),item:a})})}function Fe(){0!=k.find(".infoHolder").length&&(Da.css("display","none"),md.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){md.css("display","none")}}),Wa=!1)}function Qc(){0!=k.find(".infoHolder").length&& (Wa?(Da.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){Da.css("display","none")}}),Wa=!1):(Wb&&ca.hide(),Da.css({opacity:0,display:"block"}),pb?(pb.reinitialise(),pb.scrollToY(0)):(pb=Da.jScrollPane().data().jsp,Da.bind("jsp-initialised",function(a,e){}),Da.jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:100})),Da.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),Wa=!0))}function Yd(){pb&&(pb.reinitialise(),pb.scrollToY(0))}function Na(){U|| Ib.css("display","block");if(!Q)return!1;"local"==m&&(U?(Zd&&ga.css("display","block"),Vb&&Wc.css("display","block")):ga.css("display","block"),Zb())}function Vc(){U||Ib.css("display","block");if(!Q)return!1;"local"==m&&(U?(Zd&&ga.css("display","block"),Vb&&Wc.css("display","block")):ga.css("display","block"),Zb())}function Xc(){Ib.css("display","none");ga.css("display","none")}function Tc(){Pc||$d();"fullscreen"==sa?sc():"local"==m&&(Q?oa&&kd():id(S));"local"==m&&Zb();Wa&&Yd();if(Wb){bb.css("left", 0);var a=bb.width();a+parseInt(ca.css("left"),10)>G.width()&&(a=G.width()-parseInt(ca.css("left"),10));ca.width(a)}}function sc(){"local"==m&&(T&&clearTimeout(T),ha.unbind("mousemove",zc));"fullscreen"==sa?(nd.css("overflow","hidden"),G.removeClass("playerHolder").addClass("playerHolder_fs"),"local"==m&&(isMobile?T=setTimeout(function(){clearTimeout(T);od()},$b):(ha.unbind("mousemove",zc).bind("mousemove",zc),T=setTimeout(function(){clearTimeout(T);zc()},$b))),ae("off"),"undefined"!==typeof rvpFsEnter&& rvpFsEnter(fa,ma)):(nd.css("overflow",Me),G.removeClass("playerHolder_fs").addClass("playerHolder"),ae("on"),ga.hide(),"undefined"!==typeof rvpFsExit&&rvpFsExit(fa,ma));Pc||$d();Wa&&Yd();"local"==m&&(S&&id(S),oa&&kd(),Zb(),setTimeout(function(){Na();200}))}function $d(){if("fullscreen"!=sa){var a=0!=k.width()?k.width():Math.max(ac.width(),document.documentElement.clientWidth),f=0!=k.height()?k.height():bc();"vertical"==L?(a<400+cc?(pa.removeClass("playlistHolder").addClass("playlistHolder_small"), G.css({width:a-pa.width()+"px"})):(G.css({width:(pd?a-cc:a-cc>qd?qd:a-cc)+"px"}),pa.removeClass("playlistHolder_small").addClass("playlistHolder")),a=G.width(),pa.css({left:a+"px"}),ka.css({width:a+"px"}),lb.css({width:a+"px"}),Hb.css({width:a+"px"}),fd.css({width:a+"px"}),Z.css({width:a+"px"}),ga.css({width:a+"px"})):(pd&&(G.css({height:f-pa.height()+"px"}),a=G.height(),Hb.css({height:a+"px"}),fd.css({height:a+"px"}),ka.css({height:a+"px"}),lb.css({height:a+"px"}),ga.css({top:a-ga.height()+"px"}), Z.css({height:a+"px"})),pa.css({left:"0px"}))}else a=G.width(),f=G.height(),"vertical"==L?(G.css({width:a+"px"}),ka.css({width:a+"px"}),lb.css({width:a+"px"}),Z.css({width:a+"px"}),ga.css({width:a+"px"})):pd&&(G.css({height:f+"px"}),ka.css({height:f+"px"}),lb.css({height:f+"px"}),Hb.css({height:f+"px"}),Z.css({height:f+"px"}),ga.css({top:G.height()-ga.height()+"px"}));a=v=0;for(a;a<z;a++)f=e(A[a].item),v="horizontal"==L?v+f.outerWidth(!0):v+f.outerHeight(!0);"buttons"==Ha?("horizontal"==L?(y.css("left", "0px"),wb.width(v)):y.css("top","0px"),X()):"scroll"==Ha&&("horizontal"==L&&la.width(v),wa())}function zc(a){if(!Q)return!1;T&&clearTimeout(T);a&&(be!=a.clientX&&Vc(),be=a.clientX);T=setTimeout(function(){Xc()},$b)}function od(){T&&clearTimeout(T);Xc();T=setTimeout(function(){clearTimeout(T);od()},$b)}function Zb(){var a="block"==wc.css("display")?Ne:0;b="block"==xc.css("display")?Oe:0;c="block"==ce.css("display")?Pe:0;d="block"==rd.css("display")?Qe:0;Re&&(d=0);de=Se+a+b+c+d;ee=ga.width();ia=ee- de-fe;db.width(ia+fe-1);Dc.width(ia)}function id(a){if(!a)return!1;var e,f,g;f=G.width();g=0!=Jb("h")?Jb("h"):bc();0==Ya?e=sd():1==Ya?e=Ac(!0,a,gd,hd):2==Ya&&(e=Ac(!1,a,gd,hd));f=parseInt((f-e.width)/2,10);g=parseInt((g-e.height)/2,10);a.css({width:e.width+"px",height:e.height+"px",left:f+"px",top:g+"px"})}function kd(){if(-1==u.getCounter())return!1;var a,e,f;e=G.width();f=0!=Jb("h")?Jb("h"):bc();0==Ya?a=sd():1==Ya?a=Ac(!0):2==Ya&&(a=Ac(!1));e=parseInt((e-a.width)/2,10);f=parseInt((f-a.height)/2, 10);"local"==m&&Oa&&Oa.css({width:a.width+"px",height:a.height+"px",left:e+"px",top:f+"px"})}function Ac(a,e,f,g){var l=G.width(),k=0!=Jb("h")?Jb("h"):bc(),p={};e?"undefined"!==typeof f&&"undefined"!==typeof g?e=g:(f=e.width(),e=e.height()):(e=sd(),f=e.width,e=e.height);g=(l-0)/(k-0);var n=f/e;n<g?a?(p.width=(k-0)/e*f,p.height=k-0):(p.height=(l-0)/f*e,p.width=l-0):n>g?a?(p.height=(l-0)/f*e,p.width=l-0):(p.width=(k-0)/e*f,p.height=k-0):(p.width=l-0,p.height=k-0);return p}function sd(){var a={};"local"== m&&(!mb||isNaN(mb)||!nb||isNaN(nb)?r?(a.width=r.videoWidth,a.height=r.videoHeight):(a.width=640,a.height=360):(a.width=mb,a.height=nb));return a}function Jb(a){return"w"==a?"normal"==sa?kb.width():Math.max(ac.width(),document.documentElement.clientWidth):"normal"==sa?kb.height():bc()}function bc(){return Math.max(ac.height(),document.documentElement.clientHeight)}function ae(a){"on"==a?rd.find("i").removeClass().addClass("fa fa-expand ap_fs_ent icon_color"):rd.find("i").removeClass().addClass("fa fa-compress ap_fs_exit icon_color")} function V(a){return 0==a.replace(/^\s+|\s+$/g,"").length}function ue(a,e,f){"path"==e&&a.sort(function(a,e){return a.path==e.path?0:a.path<e.path?-1:1});f&&a.reverse()}function ve(a){var e=document.createElement("a");e.href=a;return e.href}function Ec(a){a=Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a%60);return minutes+":"+(10<=a?a:"0"+a)}function Fc(a){a=Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a% 60);return minutes+":"+(10<=a?a:"0"+a)}function Ed(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Te(){void 0!=R(K).setData&&(td&&clearInterval(td),R(K).setData(g),kc())}function R(a){"#"==a.charAt(0)&&(a=a.substr(1));return isSafari?window[a]:-1!=navigator.appName.indexOf("Microsoft")?window[a]:document[a]}function te(){ka.remove();var a=rvp_mediaArr.length-1,f="flashMain"+a;K="#"+f;g.flash_id=a;a=e('<object id="'+f+'" type="application/x-shockwave-flash" data="fallback.swf" width="100%" height="100%"><param name="movie" value="fallback.swf" /><param name="allowScriptAccess" value="always" /><param name="bgcolor" value="#000000" /><param name="allowfullscreen" value="true" /><param name="wmode" value="transparent" /><a href="'+ aa+'//get.adobe.com/flashplayer/" target="_blank"><img src="'+aa+'//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" /></a></object>');e("<div/>").addClass("flashMain").append(a).prependTo(G);var l=setInterval(function(){K&&"undefined"!==typeof R(K)&&(clearInterval(l),td=setInterval(Te,100))},50)}var q=!1,fa=this;rvp_mediaArr.push({player_id:fa,media_id:g.media_id});var nd=e("body"),ac=e(window),ha=e(document),Oc=window.location.href,aa=window.location.protocol;"file:"==aa&&(aa= "http:");var ud,yb="",sb="",Pa="",Aa,cb=!0;"ontouchstart"in window?(Aa=!0,yb="touchstart.ap",sb="touchmove.ap",Pa="touchend.ap"):(Aa=!1,yb="mousedown.ap",sb="mousemove.ap",Pa="mouseup.ap");var be=0,ge=function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))}();(function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/,""))})(); (function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""))})();var oa=!!document.createElement("video").canPlayType;ge||(oa=!1,ge=!0);var k=e(this),kb=k.find(".componentWrapper"),ra=k.find(".componentPlaylist");k.find(".innerWrapper");var wb=k.find(".playlist_inner"),Tb=k.find(".playlist_content"),pa=k.find(".playlistHolder"),Pc=k.find(".playlistHolder").length?!1:!0,Kd=e(g.playlistList),G=k.find(".playerHolder"), qd=G.width(),cc=pa.width(),wc=k.find(".player_mediaTime_current"),xc=k.find(".player_mediaTime_total"),ga=k.find(".playerControls"),jd=k.find(".player_toggleControl"),db=k.find(".player_seekbar"),Dc=k.find(".progress_bg"),Yc=k.find(".load_level"),dc=k.find(".progress_level"),Ba=k.find(".volume_seekbar").css("zIndex",300),Gc=k.find(".volume_bg"),xd=k.find(".volume_level"),rd=k.find(".player_fullscreen"),Zd=g.showControlsInAdvert,tb=g.disableSeekbarInAdvert,Vb=g.showSkipButtonInAdvert,Ea,ib,Wc=k.find(".ap_adv_skip").appendTo(G).css("cursor", "pointer").bind("click",function(){if(!q||t||!U||Ea&&!ib)return!1;Eb=!0;isMobile||hb(!0);Ab();return!1}),uc=k.find(".ap_adv_img"),jb=k.find(".ap_adv_msg"),vc=k.find(".ap_adv_msg_end"),Wd=jb.find("p").html(),qd=G.width(),cc=pa.width(),K=g.flashMain,Hb=k.find(".youtubeHolder"),fd=k.find(".vimeoHolder"),G=k.find(".playerHolder"),ka=k.find(".mediaHolder").bind("click",function(){if(!q||t)return!1;Va();return!1}),lb=k.find(".mediaPreview").bind("click",function(){if(!q||t)return!1;Va();return!1}),Ib=k.find(".player_addon"), Wb;k.find(".ap_share").length&&(Wb=!0);if(Wb){k.find(".ap_share_btn");var ca=k.find(".ap_share_holder");Ib.css({visibility:"hidden",display:"block"});ca.css("display","block");var vd=0,he=[],ie,bb=k.find(".ap_share_wrapper");bb.find("ul").children("li").each(function(){vd+=e(this).outerWidth(!0);he.push(e(this).children("a[class*=apss]"));"facebook"==e(this).children("a[class*=apss]").attr("data-type").toLowerCase()&&(ie=!0)});ie&&g.fs_app_id&&inject_facebook_sdk(g.fs_app_id);bb.width(vd);Ib.css({visibility:"visible", display:"none"});ca.css("display","none");isMobile?Aa&&p():ca.bind("mouseenter",function(){if(!q||bb.width()<=ca.width())return!1;ca.unbind("mousemove").bind("mousemove",f);return!1}).bind("mouseleave",function(){if(!q)return!1;ca.unbind("mousemove");return!1});e(he).each(function(){e(this).bind("click",function(a){var f=u.getCounter();if(A[f]){a=e(this).attr("data-type").toLowerCase();var g=(window.screen.width-600)/2,l=(window.screen.height-300)/2,k=A[f],p,f=k.title,m=k.description,n=k.title+" \n"+ k.description,q=k.thumb,k=k.deeplink;if("facebook"==a){if(p=aa+"//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(q),window.FB)return window.FB&&FB.ui({method:"feed",name:document.title,link:k,picture:q,caption:f,description:m}),!1}else"twitter"==a?p=aa+"//twitter.com/share?url="+encodeURIComponent(k)+"&text="+encodeURIComponent(n):"google"==a?p=aa+"//plus.google.com/share?url="+encodeURIComponent(q):"pinterest"==a?p="https://www.pinterest.com/pin/create/button?url="+encodeURIComponent(q)+ "&description="+encodeURIComponent(f)+"&media="+encodeURIComponent(q):"linkedin"==a?p=aa+"//www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(q)+"&title="+encodeURIComponent(f)+"&summary="+encodeURIComponent(m):"digg"==a?p=aa+"//digg.com/submit?url="+encodeURIComponent(k):"reddit"==a?p=aa+"//reddit.com/submit?url="+encodeURIComponent(k)+"&title="+encodeURIComponent(n):"tumblr"==a?p=aa+"//www.tumblr.com/share/link?url="+encodeURIComponent(k)+"&name="+encodeURIComponent(f)+"&description="+ encodeURIComponent(m):"stumbleupon"==a?p=aa+"//www.stumbleupon.com/submit?url="+encodeURIComponent(k)+"&title="+encodeURIComponent(f):"delicious"==a&&(p=aa+"//del.icio.us/post?url="+encodeURIComponent(k)+"&title="+encodeURIComponent(n));p&&window.open(p,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+g+",top="+l+"")}return!1})})}var md=k.find(".info_toggle"),Da=k.find(".infoHolder").bind("mouseenter",function(a){if(!q||t)return!1;a||(a=window.event);a.cancelBubble? a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();Na();return!1}),ce=k.find(".player_volume"),Z=k.find(".big_play").css({cursor:"pointer"}).bind("click",function(){if(!q||t)return!1;Va();return!1}),Sd=k.find(".big_play_bg"),Td=k.find(".ap_bplay"),Je=k.find(".info_inner"),Ma=k.find(".preloader");k.find(".playlistControls");var gd,hd,ta,U,Eb,Zc,oc,ma=g.media_id,Xa=g.autoPlay,ad=g.autoPlay,ed=g.autoPlay,bd=g.autoPlay;isMobile&&(ed=ad=Xa=!1);var Ie=g.autoAdvanceToNextVideo,Ke=g.autoOpenDescription, L=g.playlistOrientation,Ha=g.scrollType,Ue=g.randomPlay,Ve=g.loopingOn,Ya=1,pd=g.layout100perc,He=g.useYoutubeHighestQuality;isiPhoneIpod&&(Da.remove(),ga.remove(),Ib.remove());var Hd,Id,Gd,lc,Uc,Dd="vimeo.channel vimeo.group vimeo.user_album vimeo.user_appearance vimeo.user_like vimeo.user_portfolio vimeo.user_uploaded vimeo.video_query vimeo.single_video vimeo.related_video".split(" "),Ta,Rb,Sb,La,Lc,$c,yd=[],Ub,Bd,Cd=new APYTLoader(g);e(Cd).on("APYTLoader.END_LOAD",function(a,e){var f,g=e.length, k;for(f=0;f<g;f++)k=e[f],Ub||(k.item=P[W].item.clone()),Ka.push(k);Pb()});var Cb,ea,Ua,pc,qc,Za=[],ld,Le=!0,W=0,Ka=[],P=[],z=0,A=[],gb,t=!1,Db=!1,la,Rc=0,rc=!1,Re;(function(){var a=!1;if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)a=!0;else if(document.documentElement.requestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen||document.documentElement.oRequestFullscreen|| document.documentElement.webkitRequestFullScreen)a=!0;return a})()&&(rc=!0);isIOS&&k.find(".player_volume_wrapper").remove();var Se=k.find(".player_toggleControl").outerWidth(!0),Ne=k.find(".player_mediaTime_current").outerWidth(!0),Oe=k.find(".player_mediaTime_total").outerWidth(!0),Pe=k.find(".player_volume_wrapper").outerWidth(!0),Qe=k.find(".player_fullscreen").outerWidth(!0),E,Ud=!1,Ge=!1,H,Vd=!1,S,Q=!1,ob=!1,td,Jd=!1,$b=2E3,T,dd=10,va,mb,nb,m,ua,sa="normal",Oa,r,Wa=!1,Me=nd.css("overflow"), pb,vb,xb,eb,fb,I,zb=50,v,y;y=wb;"buttons"==Ha&&Aa&&qb();var je=[jd,k.find(".ap_share_btn"),k.find(".info_toggle"),k.find(".player_volume"),k.find(".player_fullscreen"),k.find(".player_prev"),k.find(".player_next")],ke,We=je.length,Bc=0;for(Bc;Bc<We;Bc++)ke=e(je[Bc]).css("cursor","pointer").bind("click",ze),isMobile||ke.bind("mouseenter",Ae).bind("mouseleave",Be);var rb=!1,de,ee,ia,fe=30;db.css("cursor","pointer").bind(yb,function(a){if(U&&tb)return!1;na(a);return!1});if(!isMobile){var Lb=k.find(".player_progress_tooltip").css({left:parseInt(db.css("left"), 10)+"px",zIndex:302});db.bind("mouseover",M)}var fc=!0,B=g.defaultVolume,ec;0>B&&(B=0);0==B?ec=.5:1<B&&(B=1);0!=B&&(ec=B);var Kb=!1,ub=Gc.height();xd.css("height",B*ub+"px");var Mb=!1,O,gc=3E3;isMobile||ce.bind("mouseover",function(){if(!q)return!1;O&&clearTimeout(O);Ba.css("display","block");Mb=!0;return!1}).bind("mouseout",function(){if(!q)return!1;O&&clearTimeout(O);O=setTimeout(ba,gc);return!1});0==B&&k.find(".player_volume").find("i").removeClass("fa-volume-up").addClass("fa-volume-off");Ba.css("cursor", "pointer").bind(yb,function(a){Ga(a);return!1});if(!isMobile){Ba.bind("mouseover",$a);var Qa=kb.find(".player_volume_tooltip"),oe=parseInt(Qa.css("top"),10);Qa.bind("mouseenter",function(){Ba.unbind("mouseover",$a);Qa.css("display","none")}).bind("mouseleave",function(){Ba.bind("mouseover",$a)})}var u=e.playlistManager({randomPlay:Ue,loopingOn:Ve});e(u).bind("ap_PlaylistManager.COUNTER_READY",function(){Y?Ra?(Ra=!1,mc(),Ab()):(e.address.value(pe(u.getCounter())),e.address.history()||e.address.history(!0)): (mc(),Ab())});e(u).bind("ap_PlaylistManager.PLAYLIST_END",function(){mc();"undefined"!==typeof rvpPlaylistEnd&&rvpPlaylistEnd(fa,ma)});var da=[],wd;Kd.children("div[data-address]").each(function(){var a={};wd=e(this);a.categoryName=wd.attr("data-address");a.id=wd.attr("id");da.push(a)});var Ld=da.length+1,Y=g.useDeeplink;if(Y){e.address.strict();var nc,Jc=!1,Hc,Ob,ic,Ca,Ra=!1,Ic=!1,Ia,Ja=g.activePlaylist;V(Ja)||V(g.activeItem)||(Ja+="/"+g.activeItem);var ja,jc,Nb;e.address.internalChange(function(a){a.stopPropagation(); hc(a)});e.address.externalChange(function(a){a.stopPropagation();Hc=a;t?(Ia&&clearTimeout(Ia),Nb&&clearInterval(Nb),Nb=setInterval(me,100)):Ic?(Ia&&clearTimeout(Ia),Ia=setTimeout(ne,500)):"/"==a.value?(Ra=!0,e.address.history(!1),V(Ja)?Qb():(e.address.value(Ja),e.address.history()||e.address.history(!0))):V(a.value)?(Ra=!0,e.address.history(!1),V(Ja)?Qb():(e.address.value(Ja),e.address.history()||e.address.history(!0))):hc(a)})}else gb=g.activePlaylist,V(gb)?Qb():kc();ac.resize(function(){if(!q)return!1; ud&&clearTimeout(ud);ud=setTimeout(Tc,250)});isMobile&&ac.doubletap(function(){setTimeout(function(){clearTimeout(e(this));Tc()},1E3)});isMobile&&ha.bind("touchend.ap2",function(a){"fullscreen"==sa&&(T&&clearTimeout(T),Vc(),T=setTimeout(function(){clearTimeout(T);od()},$b))});if(rc)ha.on("fullscreenchange mozfullscreenchange MSFullscreenChange webkitfullscreenchange",function(a){"fullscreen"==sa&&0<Rc&&(sa="normal",sc());Rc=1});this.flashVideoPause=function(){Yb()};this.flashVideoResume=function(){Fb()}; this.flashVideoEnd=function(){Xb()};this.flashVideoStart=function(){Q=!0;Fb();Na();yc()};this.dataUpdateFlash=function(a,e,f,g){Yc.width(a/e*ia);dc.width(f/g*ia);wc.html(Ec(f));xc.html(Fc(g));Za&&Za.length&&f!=ld&&Xd(parseInt(f,10));U&&Vb&&null!=Ea&&!ib&&(parseInt(f,10)<Ea?jb.find("p").html(Wd+" "+(Ea-parseInt(f,10)).toString()):(ib=!0,uc.hide(),jb.hide(),vc.show(),tb=!1))};this.playMedia=function(){q&&!t&&m&&("local"==m?Va():"vimeo"==m?H&&H.play():"youtube"==m&&E&&E.play(),ob=!0)};this.pauseMedia= function(){q&&!t&&m&&("local"==m?Va():"vimeo"==m?H&&H.pause():"youtube"==m&&E&&E.pause(),ob=!1)};this.checkMedia=function(a){q&&!t&&m&&(a=a.toLowerCase(),ob&&"pause"==a&&("local"==m?Va():"vimeo"==m?H&&H.pause():"youtube"==m&&E&&E.pause(),ob=!1))};this.togglePlayBack=function(){if(!q||t||!m)return!1;Va()};this.nextMedia=function(){if(!q||t)return!1;Sc()};this.previousMedia=function(){if(!q||t)return!1;q&&(Sa(),u.advanceHandler(-1,!0))};this.destroyMedia=function(){if(!q||t)return!1;Ad()};this.destroyPlaylist= function(){if(!q||t)return!1;Mc()};this.setVolume=function(a){if(!q||t||!Q)return!1;0>a?a=0:1<a&&(a=1);B=a;ya()};this.getVolume=function(){return!q||t?!1:B};this.toggleDescription=function(){if(!q||t||U||-1==u.getCounter())return!1;Qc()};this.loadMedia=function(a){if(!q||t)return!1;if(Y)if("string"===typeof a)e.address.value(a);else return alert("Invalid value loadMedia Deeplink!"),!1;else if("number"===typeof a){if(!la)return!1;0>a?a=0:a>z-1&&(a=z-1);Sa();u.processPlaylistRequest(a)}else if("string"=== typeof a){if(-1!=a.indexOf("/"))return alert("Invalid value loadMedia no Deeplink!"),!1;if(gb==a)return!1;gb=a;kc()}else return alert("Invalid value loadMedia no Deeplink!"),!1};this.addTrack=function(a,f,g,k){if(!q||t)return!1;if("undefined"===typeof a)return alert("addTrack method requires format parameter. AddTrack failed."),!1;if("undefined"===typeof f)return alert("addTrack method requires track parameter. AddTrack failed."),!1;pc=!1;"undefined"!==typeof g&&(pc=g);g=1;var l=!1;if("string"!== typeof f&&"[object Object]"!==Object.prototype.toString.call(f))if("[object Array]"===Object.prototype.toString.call(f))g=f.length,l=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;ea=k;Cb=!1;Ua=!0;if(la)if("undefined"!==typeof ea){if(0>ea||ea>z)return alert('Invalid position to insert track to. Position number "'+k+'" doesnt exist. AddTrack failed.'),!1;ea==z&&(Cb=!0)}else Cb=!0,ea=z;else{if("undefined"!==typeof ea){if(0!=ea)return alert('Invalid position to insert track to. Position number "'+ k+'" doesnt exist. AddTrack failed.'),!1}else ea=0;Cb=!0}t=!0;Ma.css("display","block");Ub=!0;W=0;Ka=[];P=[];k=0;var p;for(k;k<g;k++)if(p=l?f[k]:f,"html"==a){p=e(p);var m=void 0,n=void 0,m=void 0,m=e("<div>").append(p.clone()).html(),n=document.createElement("div");n.innerHTML=m;m=n.firstChild;p=e(m);p=Nc(p);P.push(p)}z=P.length;qc=!1;la||(qc=!0);la=Tb;Kc()};this.removeTrack=function(a){if(!q||t||!la)return!1;if("undefined"===typeof a)return alert("removeTrack method requires track parameter. removeTrack failed."), !1;if(e.isNumeric(a))if(e.isNumeric(a)){if(a=parseInt(a,10),0>a||a>z-1)return alert('Invalid track number. Track number "'+a+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method requires either a track number or a track title to remove. removeTrack failed."),!1;else{var f=0,g=!1;for(f;f<z;f++)if(a==A[f].title){a=f;g=!0;break}if(!g)return alert('Track with name "'+a+'" doesnt exist. RemoveTrack failed.'),!1}A[a]?(f=a,A.splice(f,1),Tb.children(".playlistNonSelected, .playlistSelected").eq(f).remove(), Y&&da[ja].mediaName.splice(f,1),Md(),Nd(),wa(),z=A.length,0<z?(f=u.getCounter(),a==f?(tc(),u.setPlaylistItems(z)):(u.setPlaylistItems(z,!1),a<f&&u.reSetCounter(u.getCounter()-1))):(Mc(),la=null,"undefined"!==typeof rvpPlaylistEmpty&&rvpPlaylistEmpty(fa,ma))):alert('RemoveTrack with id "'+a+'" failed.')};this.getMediaCount=function(){return!q||t?!1:Ed(z)?z:0};this.getPlaylistData=function(){return!q||t?!1:A};this.getIsMobile=function(){return isMobile};this.skipIntro=function(){if(!q||t||!U||Ea&&!ib)return!1; Eb=!0;isMobile||hb(!0);Ab();return!1};return this}})(jQuery); (function(e){function g(f){function g(f){l.playerReady=!0;e(l).trigger("ap_YoutubePlayer.YT_READY");"undefined"!==typeof l._player.setVolume&&l._player.setVolume(100*l._defaultVolume);l._autoPlay&&l._player.playVideo()}function na(e){}function C(f){if(l.forceMainStop&&(l.forceMainStop=!1,"undefined"!==typeof l._player.stopVideo)){l._player.stopVideo();e(l).trigger("ap_YoutubePlayer.FORCE_MAIN_STOP");return}-1!=f.data&&(0==f.data?l.isIE?e(l).trigger("ap_YoutubePlayer.END_PLAY"):l.singleVideo||e(l).trigger("ap_YoutubePlayer.END_PLAY"): 1==f.data?(l.isMobile||(l._autoPlay=!0),l.small_embed&&"undefined"!==typeof l._player.setVolume&&l._player.setVolume(0),l.forcePreviewStop&&"undefined"!==typeof l._player.stopVideo&&l._player.stopVideo(),l._inited||(e(l).trigger("ap_YoutubePlayer.START_PLAY"),l._inited=!0,l.quality&&1==l.quality&&"undefined"!==typeof l._player.getAvailableQualityLevels&&l._player.getAvailableQualityLevels()[0]&&l._player.setPlaybackQuality(l._player.getAvailableQualityLevels()[0])),e(l).trigger("ap_YoutubePlayer.STATE_PLAYING")): 2==f.data?e(l).trigger("ap_YoutubePlayer.STATE_PAUSED"):5==f.data&&e(l).trigger("ap_YoutubePlayer.STATE_CUED"))}function M(f){e(l).trigger("ap_YoutubePlayer.ERROR_HANDLER",[f.data])}var l=this;"undefined"!==typeof e.videoGallery&&"undefined"!==typeof e.videoGallery.getSingleVideo&&"undefined"!==typeof e.videoGallery.getLooping&&e.videoGallery.getLooping()&&"undefined"!==typeof e.videoGallery.getAutoplay&&e.videoGallery.getAutoplay()&&(this.singleVideo=e.videoGallery.getSingleVideo());this.isIE=f.isIE? f.isIE:!1;this.isMobile=f.isMobile;this.initialAutoplay=f.initialAutoplay;this._inited=!1;this._player;this._autoPlay=f.autoPlay;this._defaultVolume=f.defaultVolume;this._youtubeHolder=f.youtubeHolder;this._frameId="ytplayer"+Math.floor(16777215*Math.random());f.quality&&(this.quality=f.quality);f.small_embed&&(this.small_embed=f.small_embed);this.lastID;this.playerReadyInterval=100;this.playerReadyIntervalID;this.playerReady=!1;this.protocol=f.protocol;var J=f.youtubeChromeless,ba="&amp;rel=0";this.forcePreviewStop= this.forceMainStop=!1;this.isFirefox="MozBoxSizing"in document.documentElement.style;J?this.small_embed?J=this.protocol+"//www.youtube.com/embed/"+f.mediaPath+"?controls=0&amp;showinfo=0&amp;enablejsapi=1&amp;wmode=transparent":(J=this.protocol+"//www.youtube.com/embed/"+f.mediaPath+"?controls=0&amp;showinfo=0"+ba+"&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent",this.singleVideo&&!this.isIE&&(J=this.protocol+"//www.youtube.com/embed/"+f.mediaPath+"?controls=0&amp;showinfo=0&amp;autoplay=1&amp;loop=1"+ ba+"&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent")):J=this.protocol+"//www.youtube.com/embed/"+f.mediaPath+"?rel=0&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent";this.youtubeVideoIframe=e("<iframe />",{frameborder:0,src:J,width:"100%",height:"100%",id:this._frameId,webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});this._youtubeHolder.css("display","block").append(this.youtubeVideoIframe);f=document.createElement("script");f.src=this.protocol+"//www.youtube.com/iframe_api"; ba=document.getElementsByTagName("script")[0];ba.parentNode.insertBefore(f,ba);var Ga=setInterval(function(){window.YT&&window.YT.Player&&(Ga&&clearInterval(Ga),l._player=new YT.Player(l._frameId,{events:{onReady:g,onPlaybackQualityChange:na,onStateChange:C,onError:M}}))},100);window.onYouTubeIframeAPIReady=function(){}}e.youtubePlayer=function(e){return new g(e)};g.prototype={clean:function(){this._player&&("undefined"!==typeof this._player.stopVideo&&this._player.stopVideo(),this._player=null); this.youtubeVideoIframe&&(this.youtubeVideoIframe.attr("src",""),this.youtubeVideoIframe.remove(),this.youtubeVideoIframe=null)},stopPreview:function(){this.forcePreviewStop=!0},initVideo:function(e){this.forceMainStop=!1;if(this.playerReady)this._player&&(this._inited=this.forcePreviewStop=!1,this._autoPlay?"undefined"!==typeof this._player.loadVideoById&&this._player.loadVideoById(e):"undefined"!==typeof this._player.cueVideoById&&this._player.cueVideoById(e));else{var g=this;this.lastID=e;this.playerReadyIntervalID|| (this.playerReadyIntervalID=setInterval(function(){g.playerReady&&(g.playerReadyIntervalID&&clearInterval(g.playerReadyIntervalID),g.forceMainStop||g.initVideo(g.lastID))},this.playerReadyInterval))}},stop:function(){this.forceMainStop=!0;this._player&&"undefined"!==typeof this._player.stopVideo&&this._player.stopVideo()},play:function(){this._player&&"undefined"!==typeof this._player.playVideo&&this._player.playVideo()},pause:function(){this._player&&"undefined"!==typeof this._player.pauseVideo&& this._player.pauseVideo()},togglePlayback:function(e){if(this._player)if(void 0==e){if("undefined"===typeof this._player.getPlayerState)return!1;e=this._player.getPlayerState();1==e?"undefined"!==typeof this._player.pauseVideo&&this._player.pauseVideo():2==e?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():-1!=e&&5!=e&&0!=e||"undefined"===typeof this._player.playVideo||this._player.playVideo()}else e?"undefined"!==typeof this._player.playVideo&&this._player.playVideo():"undefined"!== typeof this._player.pauseVideo&&this._player.pauseVideo()},seek:function(e){this._player&&"undefined"!==typeof this._player.seekTo&&this._player.seekTo(e)},isMuted:function(){if(this._player&&"undefined"!==typeof this._player.isMuted)return this._player.isMuted()},getDuration:function(){if(this._player&&"undefined"!==typeof this._player.getDuration)return this._player.getDuration()},getCurrentTime:function(){if(this._player&&"undefined"!==typeof this._player.getCurrentTime)return this._player.getCurrentTime()}, getVideoLoadedFraction:function(){if(this._player&&"undefined"!==typeof this._player.getVideoLoadedFraction)return this._player.getVideoLoadedFraction()},getVideoBytesLoaded:function(){if(this._player&&"undefined"!==typeof this._player.getVideoBytesLoaded)return this._player.getVideoBytesLoaded()},getVideoBytesTotal:function(){if(this._player&&"undefined"!==typeof this._player.getVideoBytesTotal)return this._player.getVideoBytesTotal()},setVolume:function(e){0>e?vol=0:1<e&&(e=1);this._player&&"undefined"!== typeof this._player.setVolume&&this._player.setVolume(100*e)},getPlayerState:function(){if(this._player&&"undefined"!==typeof this._player.getPlayerState)return this._player.getPlayerState()},setAutoPlay:function(e){this._autoPlay=e}}})(jQuery); (function(e){function g(f){var g=this;this.isMobile=f.isMobile;this.initialAutoplay=f.initialAutoplay;this._autoPlay=f.autoPlay;this._defaultVolume=f.defaultVolume;this._vimeoHolder=f.vimeoHolder;this._inited=!1;this.protocol=f.protocol;var na="player"+Math.floor(16777215*Math.random());this._player_id="&player_id="+na;this._vimeoApi="?api=1";f=this.protocol+"//player.vimeo.com/video/"+f.mediaPath+this._vimeoApi+this._player_id;this.playing;this.currentTime;this.intervalID;this._vimeoVideoIframe= e("<iframe />",{id:na,frameborder:0,src:f,width:"100%",height:"100%"});this._vimeoHolder.css("display","block");this._vimeoHolder.append(this._vimeoVideoIframe);this._player=Froogaloop(this._vimeoVideoIframe[0]);this._player.addEvent("ready",function(){e(g).trigger("ap_VimeoPlayer.VIMEO_READY");g._player.api("setVolume",g._defaultVolume);g._player.addEvent("play",function(f){e(g).trigger("ap_VimeoPlayer.VIMEO_PLAY");self.playing=!0;g.isMobile||(g._autoPlay=!0)});g._player.addEvent("pause",function(f){e(g).trigger("ap_VimeoPlayer.VIMEO_PAUSE"); self.playing=!1});g._player.addEvent("finish",function(){e(g).trigger("ap_VimeoPlayer.END_PLAY")});g.intervalID=setInterval(function(){g._player.api("getCurrentTime",function(e,f){g.currentTime=e})},100);g._inited||(g._inited=!0);g._autoPlay&&g._player.api("play")})}e.vimeoPlayer=function(e){return new g(e)};g.prototype={initVideo:function(e){this._player&&(this._vimeoHolder.css("display","block"),this._vimeoVideoIframe.attr("src",this.protocol+"//player.vimeo.com/video/"+e+this._vimeoApi+this._player_id))}, stop:function(){},play:function(){this._player.api("play")},pause:function(){this._player.api("pause")},togglePlayback:function(){this.playing?this._player.api("pause"):this._player.api("play");this.playing=!this.playing},seek:function(e){},isMuted:function(){},getCurrentTime:function(){return this.currentTime},getDuration:function(){},setVolume:function(e){this._player.api("setVolume",e)},clean:function(){this.intervalID&&clearInterval(this.intervalID);this._player.removeEvent("finish");this._vimeoVideoIframe.attr("src", "");this._vimeoHolder.css("display","none")},setAutoPlay:function(e){this._autoPlay=e}}})(jQuery); (function(e){function g(e){this._loopingOn=e.loopingOn;this._randomPlay=e.randomPlay;this._playlistItems;this._lastInOrder=!1;this._counter=-1;this._lastPlayedFromPlaylistClick;this._lastRandomCounter;this._traceCounter=this._randomPaused=!1;this._randomArr=[];this._playlistSelect=!1}e.playlistManager=function(e){return new g(e)};g.prototype={setCounter:function(e,g){"undefined"===typeof g&&(g=!0);this._counter=g?this._counter+parseInt(e,10):parseInt(e,10);this._checkCounter()},getCounter:function(){return this._randomPlay? this._playlistSelect?this._counter:this._randomArr[this._counter]:this._counter},advanceHandler:function(e){this._playlistSelect=!1;this._randomPaused?this._handleRandomPaused(e):this.setCounter(e)},processPlaylistRequest:function(e){this._playlistSelect=!1;this._randomPlay&&(this._playlistSelect=!0,this._lastPlayedFromPlaylistClick=e,this._randomPaused||(this._lastRandomCounter=this._counter,this._randomPaused=!0));this.setCounter(e,!1)},getLastInOrder:function(){return this._lastInOrder},getRandomPaused:function(){return this._randomPaused}, setPlaylistItems:function(e,g){"undefined"===typeof g&&(g=!0);g&&(this._counter=-1);this._playlistItems=e;this._randomPlay&&this._makeRandomList()},reSetCounter:function(e){"undefined"===typeof e?this._counter=-1:(e=parseInt(e,10),this._playlistItems?(e>this._playlistItems-1?e=this._playlistItems-1:0>e&&(e=0),this._counter=e):this._counter=-1)},setRandom:function(e){(this._randomPlay=e)&&this._makeRandomList();this._randomChange()},setLooping:function(e){this._loopingOn=e},setTraceCounter:function(e){this._traceCounter= e},_handleRandomPaused:function(f){var g=e(this);this._randomPaused=!1;this._lastRandomCounter+f>this._playlistItems-1?(this._counter=this._playlistItems-1,g.trigger("ap_PlaylistManager.COUNTER_READY")):0>this._lastRandomCounter+f?(this._counter=0,g.trigger("ap_PlaylistManager.COUNTER_READY")):this.setCounter(this._lastRandomCounter+f,!1)},_randomChange:function(){this._randomPlay?(this._activeIndexFirst(),this._counter=0):this._randomPaused?(this._counter=this._lastPlayedFromPlaylistClick,this._randomPaused= !1):this._counter=this._randomArr[this._counter]},_checkCounter:function(){if(isNaN(this._counter))alert("ap_PlaylistManager message: No active media, counter = "+this._counter);else{var f=e(this);this._lastInOrder=!1;this._loopingOn?(this._randomPlay?this._counter>this._playlistItems-1?(this._counter=this._randomArr[this._playlistItems-1],this._makeRandomList(),this._firstIndexCheck(),this._counter=0,f.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._randomArr[0], this._makeRandomList(),this._lastIndexCheck(),this._counter=this._playlistItems-1):this._counter>this._playlistItems-1?(this._counter=0,f.trigger("ap_PlaylistManager.PLAYLIST_END_ALERT")):0>this._counter&&(this._counter=this._playlistItems-1),f.trigger("ap_PlaylistManager.COUNTER_READY")):(this._counter>this._playlistItems-1?(this._counter=this._playlistItems-1,this._lastInOrder=!0):0>this._counter&&(this._counter=0),this._lastInOrder?f.trigger("ap_PlaylistManager.PLAYLIST_END"):f.trigger("ap_PlaylistManager.COUNTER_READY")); this._traceCounter&&console.log("counter = "+this.getCounter())}},_makeRandomList:function(){3>this._playlistItems||(this._randomArr=this._randomiseIndex(this._playlistItems))},_firstIndexCheck:function(){if(this._randomArr[0]==this._counter){var e=this._randomArr.splice(0,1);this._randomArr.push(e)}},_lastIndexCheck:function(){if(this._randomArr[this._playlistItems-1]==this._counter){var e=this._randomArr.splice(this._playlistItems-1,1);this._randomArr.unshift(e)}},_activeIndexFirst:function(){var e= 0,g=this._randomArr.length;for(e;e<g;e++)if(this._randomArr[e]==this._counter){if(0==e)break;e=this._randomArr.splice(e,1);this._randomArr.unshift(parseInt(e,10));break}},_randomiseIndex:function(e){var g=[],na=[],C=0;for(C;C<e;C++)g[C]=C;var C=0,M;for(C;C<e;C++)M=Math.round(Math.random()*(g.length-1)),na[C]=g[M],g.splice(M,1);return na}}})(jQuery); (function(e){var g=/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())?"touchend":"click";e.fn.doubletap=function(f,p){p=null==p?300:p;this.bind(g,function(g){var C=(new Date).getTime(),M=e(this).data("lastTouch")||C+1,M=C-M;M<p&&0<M?(e(this).data("lastTouch",null),null!==f&&"function"===typeof f&&f(g)):e(this).data("lastTouch",C)})}})(jQuery);function isReady(){return"complete"===document.readyState} function flashVideoEnd(e){"undefined"!==typeof rvp_mediaArr&&rvp_mediaArr[e.id]&&rvp_mediaArr[e.id].player_id.flashVideoEnd()}function flashVideoStart(e){"undefined"!==typeof rvp_mediaArr&&rvp_mediaArr[e.id]&&rvp_mediaArr[e.id].player_id.flashVideoStart()}function flashVideoPause(e){"undefined"!==typeof rvp_mediaArr&&rvp_mediaArr[e.id]&&rvp_mediaArr[e.id].player_id.flashVideoPause()} function flashVideoResume(e){"undefined"!==typeof rvp_mediaArr&&rvp_mediaArr[e.id]&&rvp_mediaArr[e.id].player_id.flashVideoResume()}function dataUpdateFlash(e){"undefined"!==typeof rvp_mediaArr&&rvp_mediaArr[e.id]&&rvp_mediaArr[e.id].player_id.dataUpdateFlash(e.bl,e.bt,e.t,e.d)}function rvpSetupDone(e,g){}function rvpPlaylistEnd(e,g){}function rvpItemTriggered(e,g,f){}function rvpVideoStart(e,g,f){} function rvpPlay(e,g,f){if("undefined"!==typeof rvp_mediaArr&&rvp_mediaArr.length)for(e=0,f=rvp_mediaArr.length,e;e<f;e++)g!=rvp_mediaArr[e].media_id&&rvp_mediaArr[e].player_id.checkMedia("pause")}function rvpPause(e,g,f){}function rvpVideoEnd(e,g,f){}function rvpFsEnter(e,g){}function rvpFsExit(e,g){}function rvpPlaylistLoaded(e,g){}function rvpPlaylistEmpty(e,g){} var rvp_tracks_list=['<div class="playlistNonSelected" data-address="vimeo_single1" data-type="vimeo.single_video" data-path="7674096" data-download="../media/video/01.mp4"></div>','<div class="playlistNonSelected" data-address="vimeo_single2" data-type="vimeo.single_video" data-path="8268264"></div>','<div class="playlistNonSelected" data-address="vimeo_single3" data-type="vimeo.single_video" data-path="27261432" data-download="../media/video/01.mp4"></div>'],rvp_tracks_list2=['<div class="playlistNonSelected" data-address="vimeo_search" data-type="vimeo.video_query" data-query="climbing" data-limit="4" data-sort="relevant"></div>'], rvp_tracks_list3=['<div class="playlistNonSelected" data-address="youtube_single1" data-type="youtube_single" data-path="F08U2yCxbYg" ></div>','<div class="playlistNonSelected" data-address="youtube_single2" data-type="youtube_single" data-path="jXSxzMTrKq0" ></div>','<div class="playlistNonSelected" data-address="youtube_single3" data-type="youtube_single" data-path="NY-4XAQR_uk" ></div>'];